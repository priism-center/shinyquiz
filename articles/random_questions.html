<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Creating Randomized Questions • shinyquiz</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.10/font.css" rel="stylesheet">
<link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet">
<link href="../deps/Roboto_Condensed-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Creating Randomized Questions">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">shinyquiz</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/get_started.html">Getting Started</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/deploying.html">Deploying to shinyapps.io</a></li>
    <li><a class="dropdown-item" href="../articles/custom_questions.html">Customizing Questions</a></li>
    <li><a class="dropdown-item" href="../articles/random_questions.html">Creating Randomized Questions</a></li>
    <li><a class="dropdown-item" href="../articles/nested_modules.html">Set Up a Quiz in a Module</a></li>
    <li><a class="dropdown-item" href="../articles/styling.html">Styling a Quiz with CSS</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/priism-center/shinyquiz/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Creating Randomized Questions</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/priism-center/shinyquiz/blob/main/vignettes/random_questions.Rmd" class="external-link"><code>vignettes/random_questions.Rmd</code></a></small>
      <div class="d-none name"><code>random_questions.Rmd</code></div>
    </div>

    
    
<p>Creating a dynamic quiz can make it more engaging and challenging for
users. The <code><a href="../reference/create_question_random.html">create_question_random()</a></code> function in
<code>shinyquiz</code> allows you to generate random questions. This
vignette will guide you through how to use this function
effectively.</p>
<p>The <code><a href="../reference/create_question_random.html">create_question_random()</a></code> function takes two main
arguments:<br>
- .f: A function that generates a single random question.<br>
- n: The number of random questions to generate for the quiz.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://priism-center.github.io/shinyquiz/">shinyquiz</a></span><span class="op">)</span></span></code></pre></div>
<p><br></p>
<div class="section level2">
<h2 id="creating-a-random-question-generator">Creating a Random Question Generator<a class="anchor" aria-label="anchor" href="#creating-a-random-question-generator"></a>
</h2>
<p>Before you can use <code><a href="../reference/create_question_random.html">create_question_random()</a></code>, you’ll need
to create a function that generates a single random question. This
function should return a question object created by
<code><a href="../reference/create_question.html">create_question()</a></code> or
<code><a href="../reference/create_question.html">create_question_raw()</a></code>.</p>
<p>Here’s an example that generates a random question about whether a
number is even or odd:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">random_question</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">number</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">30</span>, <span class="fl">10</span><span class="op">)</span>, <span class="fl">0</span><span class="op">)</span></span>
<span>  <span class="va">rand_prompt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">'Is'</span>, <span class="va">number</span>, <span class="st">'an even number?'</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">q</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_question.html">create_question</a></span><span class="op">(</span></span>
<span>    prompt <span class="op">=</span> <span class="va">rand_prompt</span>,</span>
<span>    <span class="fu"><a href="../reference/add_choice.html">add_choice</a></span><span class="op">(</span><span class="st">'Yes, it is even'</span>, correct <span class="op">=</span> <span class="va">number</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%%</a></span> <span class="fl">2</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="../reference/add_choice.html">add_choice</a></span><span class="op">(</span><span class="st">'No, it is odd'</span>, correct <span class="op">=</span> <span class="va">number</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%%</a></span> <span class="fl">2</span> <span class="op">!=</span> <span class="fl">0</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>You can test your function by running it a few times and verifying
the preview changes each time.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">random_question</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">random_question</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="putting-it-all-together">Putting It All Together<a class="anchor" aria-label="anchor" href="#putting-it-all-together"></a>
</h2>
<p>Once you have your random question generator function, you can pass
it to <code><a href="../reference/create_question_random.html">create_question_random()</a></code> along with the number of
questions you want to generate.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/create_quiz.html">create_quiz</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/create_question_random.html">create_question_random</a></span><span class="op">(</span>.f <span class="op">=</span> <span class="va">random_question</span>, n <span class="op">=</span> <span class="fl">20</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>This will create a quiz with 20 randomly generated questions about
whether numbers are even or odd.</p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="randomizing-on-the-fly">Randomizing on-the-fly<a class="anchor" aria-label="anchor" href="#randomizing-on-the-fly"></a>
</h2>
<div class="section level3">
<h3 id="pre-created-vs--dynamic-quizzes">Pre-Created vs. Dynamic Quizzes<a class="anchor" aria-label="anchor" href="#pre-created-vs--dynamic-quizzes"></a>
</h3>
<p>When you run <code><a href="../reference/create_question_random.html">create_question_random()</a></code> outside of a Shiny
server function, the set of questions it generates is fixed at that
moment. This means that if you deploy a Shiny application with this
pre-created quiz, every user will see the same set of questions.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Pre-created quiz</span></span>
<span><span class="va">my_quiz</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_quiz.html">create_quiz</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/create_question_random.html">create_question_random</a></span><span class="op">(</span>.f <span class="op">=</span> <span class="va">random_question</span>, n <span class="op">=</span> <span class="fl">20</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="dynamic-randomization-within-shiny-server">Dynamic Randomization within Shiny Server<a class="anchor" aria-label="anchor" href="#dynamic-randomization-within-shiny-server"></a>
</h3>
<p>To generate a new set of questions for each user or session, you can
include <code><a href="../reference/create_question_random.html">create_question_random()</a></code> within your Shiny app’s
server function. This way, the function will re-execute each time a new
user accesses the app, providing a unique set of questions.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create static quiz for the ui side</span></span>
<span><span class="co"># this is required to match the namespace</span></span>
<span><span class="va">quiz</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_quiz.html">create_quiz</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/create_question_random.html">create_question_random</a></span><span class="op">(</span>.f <span class="op">=</span> <span class="va">random_question</span>, n <span class="op">=</span> <span class="fl">20</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># build the shiny UI</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html" class="external-link">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu">htmltools</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">div</a></span><span class="op">(</span></span>
<span>    style <span class="op">=</span> <span class="st">"max-width: 700px"</span>,</span>
<span>    <span class="fu"><a href="../reference/quiz_ui.html">quiz_ui</a></span><span class="op">(</span><span class="va">quiz</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># build the server</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># create the dynamic quiz</span></span>
<span>  <span class="va">quiz</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_quiz.html">create_quiz</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/create_question_random.html">create_question_random</a></span><span class="op">(</span>.f <span class="op">=</span> <span class="va">random_question</span>, n <span class="op">=</span> <span class="fl">20</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># run the quiz server</span></span>
<span>  <span class="fu"><a href="../reference/quiz_ui.html">quiz_server</a></span><span class="op">(</span><span class="va">quiz</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># run the app</span></span>
<span><span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre></div>
<p>By placing <code><a href="../reference/create_question_random.html">create_question_random()</a></code> inside the server
function, you ensure that the quiz is dynamic, offering a different
experience for each user or at different times.</p>
<p><br></p>
</div>
</div>
<div class="section level2">
<h2 id="additional-information">Additional Information<a class="anchor" aria-label="anchor" href="#additional-information"></a>
</h2>
<p>Note that the presence of a random question in a quiz will
automatically set the quiz option of <code>sandbox = TRUE</code>. This
triggers the quiz to no longer end on the first wrong question, removes
the progress bar along the top, and the grade calculation excludes any
unattempted questions. You can override this behavior with
<code>set_quiz_options(override = TRUE)</code>.</p>
<p>You may mix and match random and regular questions. The following
will create a quiz that starts with one static question and then follows
with 20 random ones.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/create_quiz.html">create_quiz</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/create_question.html">create_question</a></span><span class="op">(</span></span>
<span>    prompt <span class="op">=</span> <span class="st">'My prompt explaining what the ATC of this thing should be'</span>,</span>
<span>    <span class="fu"><a href="../reference/add_choice.html">add_slider</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">30</span>, <span class="fl">15</span>, correct <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/create_question_random.html">create_question_random</a></span><span class="op">(</span>.f <span class="op">=</span> <span class="va">random_question</span>, n <span class="op">=</span> <span class="fl">20</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><br></p>
<p>That’s it! Be sure to check out the documentation for
<code><a href="../reference/create_question_random.html">create_question_random()</a></code> for more information.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://joemarlo.github.io" class="external-link">Joseph Marlo</a>, <a href="https://gperrett.github.io" class="external-link">George Perrett</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
