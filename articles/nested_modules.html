<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Quiz in a Module • shinyquiz</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.10/font.css" rel="stylesheet">
<link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet">
<link href="../deps/Roboto_Condensed-0.4.10/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Quiz in a Module">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">shinyquiz</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/get_started.html">Getting Started</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/deploying.html">Deploying to shinyapps.io</a></li>
    <li><a class="dropdown-item" href="../articles/custom_questions.html">Customizing Questions</a></li>
    <li><a class="dropdown-item" href="../articles/random_questions.html">Creating Randomized Questions</a></li>
    <li><a class="dropdown-item" href="../articles/nested_modules.html">Set Up a Quiz in a Module</a></li>
    <li><a class="dropdown-item" href="../articles/styling.html">Styling a Quiz with CSS</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/priism-center/shinyquiz/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Quiz in a Module</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/priism-center/shinyquiz/blob/main/vignettes/nested_modules.Rmd" class="external-link"><code>vignettes/nested_modules.Rmd</code></a></small>
      <div class="d-none name"><code>nested_modules.Rmd</code></div>
    </div>

    
    
<p><a href="https://mastering-shiny.org/scaling-modules.html" class="external-link">Shiny
modules</a> are an effective way to reuse code across different Shiny
applications, providing a modular and clean approach to app development.
By combining the capabilities of <code>shinyquiz</code> with Shiny
modules, you can create reusable, customizable quiz components that can
be effortlessly integrated into any of your Shiny applications. We will
walk you through the process of modifying the namespace of a quiz to
correctly work within a Shiny module.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://priism-center.github.io/shinyquiz/">shinyquiz</a></span><span class="op">)</span></span></code></pre></div>
<p>We’re creating two quizzes that will be embedded within a single
module to demonstrate the complexity of the namespace argument. If you
only have one quiz for a given module then you can skip the second
quiz.</p>
<p>Each of these quizzes will have a namespace that corresponds to the
namespace of the module and a unique id for the quiz.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create namespaces for each quiz</span></span>
<span><span class="va">parent_mod_id</span> <span class="op">&lt;-</span> <span class="st">'mod1'</span></span>
<span><span class="va">ns</span> <span class="op">&lt;-</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/NS.html" class="external-link">NS</a></span><span class="op">(</span><span class="va">parent_mod_id</span><span class="op">)</span></span>
<span><span class="va">ns1</span> <span class="op">&lt;-</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/NS.html" class="external-link">NS</a></span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">'quiz'</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">ns2</span> <span class="op">&lt;-</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/NS.html" class="external-link">NS</a></span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">'quiz2'</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>The namespaces should be passed to the individual questions via
<code>ns = ns1</code> and to the <code><a href="../reference/create_quiz.html">create_quiz()</a></code> call via the
options.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create two distinct quizes</span></span>
<span><span class="va">quiz</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_quiz.html">create_quiz</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/create_question.html">create_question</a></span><span class="op">(</span></span>
<span>    <span class="st">'QUIZ1: Lorem ipsum dolor sit amet, consectetur adipiscing elit. Select nulla.'</span>,</span>
<span>    <span class="fu"><a href="../reference/add_choice.html">add_choice</a></span><span class="op">(</span><span class="st">'auctor'</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="../reference/add_choice.html">add_choice</a></span><span class="op">(</span><span class="st">'nulla'</span>, correct <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    ns <span class="op">=</span> <span class="va">ns1</span></span>
<span>  <span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/create_question.html">create_question</a></span><span class="op">(</span></span>
<span>    <span class="st">'QUIZ1: Mauris congue aliquet dui, ut dapibus lorem porttitor sed. Select 600.'</span>,</span>
<span>    <span class="fu"><a href="../reference/add_choice.html">add_choice</a></span><span class="op">(</span><span class="st">'600'</span>, correct <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="../reference/add_choice.html">add_choice</a></span><span class="op">(</span><span class="st">'800'</span><span class="op">)</span>,</span>
<span>    ns <span class="op">=</span> <span class="va">ns1</span></span>
<span>  <span class="op">)</span>,</span>
<span>  options <span class="op">=</span> <span class="fu"><a href="../reference/set_quiz_options.html">set_quiz_options</a></span><span class="op">(</span>ns <span class="op">=</span> <span class="va">ns1</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">quiz2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_quiz.html">create_quiz</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/create_question.html">create_question</a></span><span class="op">(</span></span>
<span>    <span class="st">'QUIZ2: Lorem ipsum dolor sit amet, consectetur adipiscing elit. Select dolar.'</span>,</span>
<span>    <span class="fu"><a href="../reference/add_choice.html">add_choice</a></span><span class="op">(</span><span class="st">'elit'</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="../reference/add_choice.html">add_choice</a></span><span class="op">(</span><span class="st">'dolar'</span>, correct <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    ns <span class="op">=</span> <span class="va">ns2</span></span>
<span>  <span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/create_question.html">create_question</a></span><span class="op">(</span></span>
<span>    <span class="st">'QUIZ2: Mauris congue aliquet dui, ut dapibus lorem porttitor sed. Select 400.'</span>,</span>
<span>    <span class="fu"><a href="../reference/add_choice.html">add_choice</a></span><span class="op">(</span><span class="st">'400'</span>, correct <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="../reference/add_choice.html">add_choice</a></span><span class="op">(</span><span class="st">'200'</span><span class="op">)</span>,</span>
<span>    ns <span class="op">=</span> <span class="va">ns2</span></span>
<span>  <span class="op">)</span>,</span>
<span>  options <span class="op">=</span> <span class="fu"><a href="../reference/set_quiz_options.html">set_quiz_options</a></span><span class="op">(</span>ns <span class="op">=</span> <span class="va">ns2</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>The quizzes can now be placed inside your module as you normally
would.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># UI for your module</span></span>
<span><span class="va">parent_ui</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">ns</span> <span class="op">&lt;-</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/NS.html" class="external-link">NS</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span>  <span class="fu">htmltools</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/tagList.html" class="external-link">tagList</a></span><span class="op">(</span></span>
<span>    <span class="fu">htmltools</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">h2</a></span><span class="op">(</span><span class="st">"My parent module"</span><span class="op">)</span>,</span>
<span>    <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textOutput.html" class="external-link">textOutput</a></span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">'text'</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="fu">htmltools</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">h3</a></span><span class="op">(</span><span class="st">"Quiz 1"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="../reference/quiz_ui.html">quiz_ui</a></span><span class="op">(</span><span class="va">quiz</span><span class="op">)</span>,</span>
<span>    <span class="fu">htmltools</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">hr</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    <span class="fu">htmltools</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">h3</a></span><span class="op">(</span><span class="st">"Quiz 2"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="../reference/quiz_ui.html">quiz_ui</a></span><span class="op">(</span><span class="va">quiz2</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># server for your module</span></span>
<span><span class="va">parent_server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/moduleServer.html" class="external-link">moduleServer</a></span><span class="op">(</span><span class="va">id</span>, <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># non-quiz content</span></span>
<span>    <span class="va">output</span><span class="op">$</span><span class="va">text</span> <span class="op">&lt;-</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html" class="external-link">renderText</a></span><span class="op">(</span><span class="st">"Parent module rendered content"</span><span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># quizzes</span></span>
<span>    <span class="fu"><a href="../reference/quiz_ui.html">quiz_server</a></span><span class="op">(</span><span class="va">quiz</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="../reference/quiz_ui.html">quiz_server</a></span><span class="op">(</span><span class="va">quiz2</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># highest level of the shiny app</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html" class="external-link">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu">parent_ui</span><span class="op">(</span><span class="va">parent_mod_id</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">parent_server</span><span class="op">(</span><span class="va">parent_mod_id</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre></div>
<br><p align="center">
<img src="figures%2Fnested-modules-screenshot.png" style="width: 90%; max-width: 500px;"></p>
<p><br></p>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://joemarlo.github.io" class="external-link">Joseph Marlo</a>, <a href="https://gperrett.github.io" class="external-link">George Perrett</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
